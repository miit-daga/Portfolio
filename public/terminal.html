<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miit Daga - Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #000;
            color: #0F0;
            font-family: 'Roboto Mono', monospace;
            overflow: hidden;
        }
        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            opacity: 0.3;
        }
        #terminal {
            width: 100%;
            height: 100vh;
            padding: 1.5rem;
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
        }
        #terminal::-webkit-scrollbar {
            display: none; /* Safari and Chrome */
        }
        .prompt::before {
            content: 'user@miit-daga:~$ \00a0'; /* Non-breaking space */
            color: #0F0;
        }
        .output {
            white-space: pre-wrap; /* Allows text to wrap */
        }
        /* Style the actual input's cursor */
        #input-line {
            caret-color: #0F0;
        }
        .nav-link {
            color: #0ff; /* Cyan for links */
            text-decoration: underline;
            cursor: pointer;
        }
        .nav-link:hover {
            background-color: #0ff;
            color: #000;
        }
        .section-title {
            color: #0ff;
            font-weight: 700;
            text-transform: uppercase;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body class="bg-black text-green-400">

    <canvas id="matrix-canvas"></canvas>

    <div id="terminal" onclick="document.getElementById('input-line').focus()">
        <div id="output-container"></div>
        <div class="flex items-center">
            <span class="prompt"></span>
            <input type="text" id="input-line" class="bg-transparent border-none outline-none text-green-400 flex-grow" autofocus>
            <!-- Fake cursor div removed -->
        </div>
    </div>

    <script type="module">
        // --- DATA ---
        const MOCK_DATA = {
          name: "Miit Daga",
          email: "miitcodes27@gmail.com",
          socials: [
            { name: 'GitHub', url: 'https://github.com/miit-daga' },
            { name: 'LinkedIn', url: 'https://www.linkedin.com/in/miit-daga' },
          ],
          resumeUrl: "https://drive.google.com/file/d/1kiqfQF5cPjSXrU6ZgsC0t2XLkKZ2wkYO/view?usp=sharing",
          about: "As a final year B.Tech student in Information Technology at Vellore Institute of Technology, I have a deep passion for backend development and a strong interest in AI and ML. Currently diving into Deep Learning, I eagerly explore new ideas and expand my expertise. Fluent in English, Hindi, Gujarati, and Bengali, engaging with diverse communities and embracing challenges comes naturally. A quick learner and team player, contributing, collaborating, and growing alongside peers is always a priority. Actively seeking opportunities to work on projects that enhance my skills and create a meaningful impact.",
          experience: [
            { company: "Tata Power", role: "Project Intern — Mumbai, India", date: "May 2025 – Jul 2025", points: ["Optimized blower pipeline for 80+ Maithon units, cutting processing time from 6 minutes to 30 seconds for real-time updates.", "Resolved critical UTC–IST bug in Maithon dashboards, ensuring data accuracy; also cut key API response time from ~35s to ≤5s.", "Built real-time data aggregator and API for PPGCL plant, ensuring 99.9% scheduler reliability and live tracking of 60+ parameters.", "Merged 2 legacy codebases for Jojobera plant into a unified async system, enhancing scalability & reducing response time by 40%."] },
            { company: "TechWire Studio", role: "Full Stack Developer Intern — Remote", date: "Mar 2025 – Jun 2025", points: ["Developed backend for Xceed Electronics with inventory tracking, Waldom API, and payments; supports 1000+ monthly actions.", "Improved backend API performance by 40%, optimizing workflows and deploying on AWS for reliable scaling.", "Created backend for a headless SaaS inventory platform with async S3 image uploads, cutting update times by 90%.", "Implemented a secure dual-role auth with Firebase JWT, enabling role-based access for admins and clients."] },
            { company: "Seculinx", role: "Backend Intern — Vellore, India", date: "Sep 2024 – Jan 2025", points: ["Developed the company's website backend from the ground up, designing the database schema and implementing REST APIs.", "Managed the complete deployment on AWS, ensuring high availability (~ 99.9% uptime) and consistent performance."] }
          ],
          education: [
            { institution: "Vellore Institute of Technology", degree: "B.Tech, Information Technology", date: "2022 – Present", note: "CGPA: 9.16 / 10" },
            { institution: "Swami Vivekananda Vidyamandir", degree: "Higher Secondary Education (Class XII)", date: "2020 – 2022", note: "Percentage: 92%" },
            { institution: "St. Helen's School", degree: "Primary & Secondary Education (Class X)", date: "Apr 2008 – Jul 2020", note: "Percentage: 91.6%" },
          ],
          skills: {
            "Languages": ["JavaScript", "TypeScript", "Java", "Python", "C", "C++", "HTML", "CSS", "SQL"],
            "Libraries/Frameworks": ["NodeJS", "ExpressJS", "ReactJS", "NextJS", "Bootstrap", "Chakra UI"],
            "Databases": ["MongoDB", "MySQL", "PostgreSQL", "Redis", "Firebase"],
            "Other Tools & Platforms": ["Git", "Postman", "AWS", "Nginx", "VS Code", "Render", "Vercel", "Netlify"],
          },
          achievements: [
            { title: "2nd Place | Synapse Hackathon (Yantra-2025)", description: "Backend for automated MoCA cognitive test." },
            { title: "2nd Place | Hackovation Hackathon (GraVITas-2024)", description: "Backend for high-volume emergency prioritization system." }
          ],
          // Projects are now fetched dynamically
          publications: [
            { title: "Co-inventor, AI Powered Smart Disease Detection", link: "" },
            { title: "DeepSeqCoco: A Robust Mobile Friendly Deep Learning Model for Detection of Diseases in Cocos nucifera", link: "https://doi.org/10.1109/ACCESS.2025.3571800" },
            { title: "A Lightweight Ensemble Approach for Classification of DDoS Attacks in IoE Environments", link: "https://doi.org/10.1109/SENNET64220.2025.11136075" },
            { title: "Enhancing Cognitive Evaluation: A Thorough Examination of the Hong Kong Adaptation of the Montreal Cognitive Assessment (HK-MoCA) and Bayesian Integration", link: "https://rb.gy/0qoeij" }
          ],
          commands: ["help", "about", "experience", "education", "skills", "projects", "publications", "contact", "socials", "resume", "clear"]
        };

        // --- MATRIX CANVAS ---
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const katakana = 'アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン';
        const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        const characters = katakana + alphabet;
        
        const fontSize = 16;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#0F0';
            ctx.font = fontSize + 'px "Roboto Mono"';
            
            for(let i = 0; i < drops.length; i++) {
                const text = characters[Math.floor(Math.random() * characters.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                
                if(drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }
        let matrixInterval = setInterval(drawMatrix, 40);
        
        // --- TERMINAL LOGIC ---
        const outputContainer = document.getElementById('output-container');
        const inputLine = document.getElementById('input-line');
        const terminal = document.getElementById('terminal');
        let isTyping = false;
        let commandHistory = [];
        let historyIndex = -1;

        function typeLine(line, delay = 20) {
            return new Promise(resolve => {
                let i = 0;
                const p = document.createElement('div');
                p.className = 'output';
                outputContainer.appendChild(p);
                
                function type() {
                    if (i < line.length) {
                        p.innerHTML += line.charAt(i);
                        i++;
                        terminal.scrollTop = terminal.scrollHeight;
                        setTimeout(type, delay);
                    } else {
                        resolve();
                    }
                }
                type();
            });
        }
        
        function typeRaw(html, delay = 20) {
            return new Promise(resolve => {
                const p = document.createElement('div');
                p.className = 'output';
                outputContainer.appendChild(p);
                p.innerHTML = html; // No typing effect for raw HTML
                terminal.scrollTop = terminal.scrollHeight;
                resolve();
            });
        }
        
        function addInputLine(command) {
            const div = document.createElement('div');
            div.className = 'prompt';
            div.innerText = command;
            outputContainer.appendChild(div);
        }

        async function runCommand(command) {
            // Trim whitespace to handle commands with trailing spaces
            command = command.trim();
            
            if (isTyping) return;
            isTyping = true;

            // Add to history
            if (command) {
                commandHistory.push(command);
                historyIndex = commandHistory.length;
            }

            addInputLine(command);
            inputLine.value = '';
            inputLine.disabled = true;

            switch(command.toLowerCase()) {
                case 'help':
                    await typeRaw(`<div class="section-title">Available Commands:</div>
${MOCK_DATA.commands.map(cmd => cmd === 'publications' ? `<span class="nav-link" onclick="runCommandFromClick('${cmd}')">publications & patents</span>` : `<span class="nav-link" onclick="runCommandFromClick('${cmd}')">${cmd}</span>`).join('  ')}`);
                    break;
                case 'about':
                    await typeLine(MOCK_DATA.about, 5);
                    break;
                case 'experience':
                    await typeRaw('<div class="section-title">Work Experience</div>');
                    for (const job of MOCK_DATA.experience) {
                        await typeLine(`\n[ ${job.role} @ ${job.company} ] - ${job.date}`, 5);
                        for(const point of job.points) {
                            await typeLine(`  - ${point}`, 2);
                        }
                    }
                    break;
                case 'education':
                    await typeRaw('<div class="section-title">Education</div>');
                    for (const edu of MOCK_DATA.education) {
                        await typeLine(`\n[ ${edu.institution} ] - ${edu.date}`, 5);
                        await typeLine(`  ${edu.degree}`, 5);
                        await typeLine(`  ${edu.note}`, 5);
                    }
                    break;
                case 'skills':
                    await typeRaw('<div class="section-title">Skills</div>');
                    for (const [category, skills] of Object.entries(MOCK_DATA.skills)) {
                        await typeLine(`\n[ ${category} ]`, 5);
                        await typeLine(`  ${skills.join(', ')}`, 5);
                    }
                    break;
                case 'projects':
                    await typeRaw('<div class="section-title">Fetching GitHub Projects...</div>');
                    try {
                        const response = await fetch('https://api.github.com/users/miit-daga/repos?sort=updated&direction=desc');
                        if (!response.ok) {
                            throw new Error(`GitHub API error: ${response.status}`);
                        }
                        const repos = await response.json();
                        const filteredRepos = repos.filter(repo => repo.name !== 'miit-daga' &&
                                                                    repo.name !== 'Portfolio' &&
                                                                    (!repo.fork || repo.name === 'DisMan'))
                                                 .sort((a, b) => a.name.localeCompare(b.name))
                                                 .slice(0, 15);
                        
                        await typeRaw('<div class="section-title">Recent Projects:</div>');
                        for (const proj of filteredRepos) {
                            await typeLine(`\n[ ${proj.name} ]`, 5);
                            await typeLine(`  ${proj.description || "No description provided."}`, 5);
                            await typeRaw(`  <a href="${proj.html_url}" target="_blank" class="nav-link">View Repository</a>`);
                        }
                    } catch (error) {
                        await typeLine(`Error fetching projects: ${error.message}`);
                        await typeLine("Please check your network connection or the GitHub API status.");
                    }
                    break;
                case 'publications':
                    await typeRaw('<div class="section-title">Publications & Patents</div>');
                    for (const pub of MOCK_DATA.publications) {
                        await typeLine(`\n[ ${pub.title} ]`, 5);
                        if (pub.link) {
                            await typeRaw(`  <a href="${pub.link}" target="_blank" class="nav-link">View Publication</a>`);
                        } else {
                            await typeLine(`  Details available on the main site`, 5);
                        }
                    }
                    break;
                case 'contact':
                    await typeRaw('<div class="section-title">Contact</div>');
                    await typeLine(`Email: ${MOCK_DATA.email}`, 5);
                    await typeRaw(`  <a href="mailto:${MOCK_DATA.email}" class="nav-link">Send Email</a>`);
                    break;
                case 'socials':
                    await typeRaw('<div class="section-title">Socials</div>');
                    for (const social of MOCK_DATA.socials) {
                        await typeRaw(`[ ${social.name} ] <a href="${social.url}" target="_blank" class="nav-link">${social.url}</a>`);
                    }
                    break;
                case 'resume':
                    await typeLine("Accessing secure file...", 30);
                    await new Promise(r => setTimeout(r, 500));
                    await typeLine("Opening resume in new tab...", 30);
                    window.open(MOCK_DATA.resumeUrl, '_blank');
                    break;
                case 'clear':
                    outputContainer.innerHTML = '';
                    break;
                default:
                    if(command.trim() === '') {
                        // Do nothing if just enter is pressed
                    } else {
                        await typeLine(`Command not found: ${command}. Type 'help' for a list of available commands.`);
                    }
            }
            
            inputLine.disabled = false;
            inputLine.focus();
            isTyping = false;
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Make it accessible from global scope for onclick
        window.runCommandFromClick = (command) => {
            runCommand(command);
        };

        inputLine.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                runCommand(inputLine.value);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault(); // Prevent cursor from moving to start
                if (historyIndex > 0) {
                    historyIndex--;
                    inputLine.value = commandHistory[historyIndex];
                    inputLine.setSelectionRange(inputLine.value.length, inputLine.value.length); // Move cursor to end
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault(); // Prevent cursor from moving to end
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    inputLine.value = commandHistory[historyIndex];
                    inputLine.setSelectionRange(inputLine.value.length, inputLine.value.length); // Move cursor to end
                } else {
                    // At the end of history, clear the input
                    historyIndex = commandHistory.length;
                    inputLine.value = '';
                }
            }
        });
        
        async function bootSequence() {
            isTyping = true;
            inputLine.disabled = true;
            await new Promise(r => setTimeout(r, 500));
            await typeLine("Booting MIIT-DAGA-OS v1.0...", 30);
            await new Promise(r => setTimeout(r, 200));
            await typeLine("Connecting to network...", 30);
            await new Promise(r => setTimeout(r, 300));
            await typeLine("Connection established.", 30);
            await new Promise(r => setTimeout(r, 100));
            await typeLine("Fetching user credentials...", 30);
            await new Promise(r => setTimeout(r, 400));
            await typeLine("Access granted. Welcome, user.", 30);
            await typeLine("\nType 'help' for a list of commands.", 30);
            inputLine.disabled = false;
            inputLine.focus();
            isTyping = false;
        }

        bootSequence();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const newColumns = canvas.width / fontSize;
            drops.length = Math.floor(newColumns);
            for(let i = 0; i < drops.length; i++) {
                if(!drops[i]) drops[i] = 1;
            }
        });

    </script>
</body>
</html>